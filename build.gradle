/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
	id 'java'
	id 'maven-publish'
}

group = 'com.github.kbase'

var VER_AUTH2_CLIENT = "0.5.0"
var VER_JAVA_COMMON = "0.3.0"

repositories {
	mavenCentral()
	maven {
		name = "JitPack" 
		url = 'https://jitpack.io'
	}
}

compileJava {
	// TODO BUILD remove when we no longer support java 8, use `options.release = 11 if necessary`
	java.sourceCompatibility = JavaVersion.VERSION_1_8
	java.targetCompatibility = JavaVersion.VERSION_1_8
}

java {
	withSourcesJar()
	withJavadocJar()
}

javadoc {
	/* TODO DOCS the current sdk documenation looks like invalid html to javadoc
	 *           need to go through and remove
	 */
	failOnError = false
	options {
		// I don't know why this isn't working, but it's not worth spending time on right now
		links "https://docs.oracle.com/javase/8/docs/api/"
		links "https://javadoc.jitpack.io/com/github/kbase/auth2_client_java/$VER_AUTH2_CLIENT/javadoc/"
		links "https://javadoc.jitpack.io/com/github/kbase/java_common/$VER_JAVA_COMMON/javadoc/"
	}
}

publishing {
	publications {
		maven(MavenPublication) {
			from components.java
		}
	}
}

dependencies {

	// using older dependencies to not force upgrades on services that might not be able to
	// handle them. Need to upgrade the services and then upgrade here
	implementation "com.github.kbase:java_common:$VER_JAVA_COMMON"
	implementation "com.fasterxml.jackson.core:jackson-databind:2.5.4"
	implementation "com.github.kbase:auth2_client_java:$VER_AUTH2_CLIENT"
	implementation 'javax.annotation:javax.annotation-api:1.3.2'
	
}
